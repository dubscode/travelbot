<turbo-frame id="messages-container">
{% for message in messages %}
    <div class="msg {% if message.role == 'user' %}msg--user{% else %}msg--bot{% endif %}">
        <div class="msg__avatar">
            {% if message.role == 'user' %}
                {{ user.name|first|upper }}
            {% else %}
                ðŸ¤–
            {% endif %}
        </div>
        <div class="msg__bubble">
            <div class="msg__text">{{ message.content|nl2br }}</div>
            {% if message.modelUsed %}
                <div class="msg__meta">
                    {% if 'haiku' in message.modelUsed|lower %}
                        âš¡ Fast response
                    {% else %}
                        ðŸ§  Detailed response
                    {% endif %}
                </div>
            {% endif %}
        </div>
    </div>
{% endfor %}
</turbo-frame>
