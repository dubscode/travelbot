{% extends 'layouts/sidebar.html.twig' %}

{% block title %}Travel Chat - AI Assistant{% endblock %}

{% block sidebar %}
    {% include 'chat/_sidebar.html.twig' with {
        'conversations': conversations,
        'current_conversation': conversation,
        'user': user
    } %}
{% endblock %}

{% block main_content %}
<div class="flex flex-1 flex-col h-full p-6">
    <main class="flex flex-1 flex-col bg-white/95 dark:bg-gray-800/95 border border-blue-100/60 dark:border-gray-600/20 rounded-2xl shadow-lg p-6 min-h-0" data-controller="chat">
        <section id="messages" class="flex-1 overflow-auto grid gap-4 pb-4 scroll-smooth chat-messages" data-chat-target="messages">
            <turbo-frame id="messages-container">
            {% if messages|length == 0 %}
                {% include 'chat/_welcome.html.twig' %}
            {% else %}
                {% for message in messages %}
                    {% include 'chat/_message.html.twig' %}
                {% endfor %}
            {% endif %}
            </turbo-frame>
        </section>

        <div class="flex-shrink-0 pt-4">
            {% include 'chat/_chat_form.html.twig' %}
        </div>
    </main>
</div>
{% endblock %}
